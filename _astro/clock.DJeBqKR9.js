import{i as w,f as v,a as V,J as A,u as b,b as D,c as C,d as g,e as E,M as R,j as i,m as $,g as F,h as P}from"./index.DXvfnxTl.js";import{r as f}from"./index.Cd_vQiNd.js";function _(...e){const n=!Array.isArray(e[0]),s=n?0:-1,o=e[0+s],t=e[1+s],r=e[2+s],a=e[3+s],l=w(t,r,a);return n?l(o):l}function k(e,n,s){const o=e.get();let t=null,r=o,a;const l=typeof o=="string"?o.replace(/[\d.-]/g,""):void 0,u=()=>{t&&(t.stop(),t=null)},d=()=>{u(),t=new A({keyframes:[y(e.get()),y(r)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...s,onUpdate:a})};if(e.attach((p,c)=>{r=p,a=m=>c(x(m,l)),v.postRender(d)},u),V(n)){const p=n.on("change",m=>e.set(x(m,l))),c=e.on("destroy",p);return()=>{p(),c()}}return u}function x(e,n){return n?e+n:e}function y(e){return typeof e=="number"?e:parseFloat(e)}function I(e,n){const s=b(n()),o=()=>s.set(n());return o(),D(()=>{const t=()=>v.preRender(o,!1,!0),r=e.map(a=>a.on("change",t));return()=>{r.forEach(a=>a()),C(o)}}),s}function H(e){g.current=[],e();const n=I(g.current,e);return g.current=void 0,n}function N(e,n,s,o){if(typeof e=="function")return H(e);const t=typeof n=="function"?n:_(n,s,o);return Array.isArray(e)?S(e,t):S([e],([r])=>t(r))}function S(e,n){const s=E(()=>[]);return I(e,()=>{s.length=0;const o=e.length;for(let t=0;t<o;t++)s[t]=e[t].get();return n(s)})}function J(e,n={}){const{isStatic:s}=f.useContext(R),o=()=>V(e)?e.get():e;if(s)return N(o);const t=b(o());return f.useInsertionEffect(()=>k(t,e,n),[t,JSON.stringify(n)]),t}const M={type:"spring",stiffness:280,damping:18,mass:.3};function j({value:e,place:n}){const s=Math.floor(e/n)%10,o=$(s),t=J(o,M);return f.useEffect(()=>{t.set(s)},[t,s]),i.jsxs("div",{className:"relative inline-block w-[1ch] overflow-x-visible overflow-y-clip leading-none tabular-nums",children:[i.jsx("div",{className:"invisible",children:"0"}),Array.from({length:10},(r,a)=>i.jsx(O,{mv:t,number:a},a))]})}function O({mv:e,number:n}){const s=f.useId(),[o,t]=F(),r=N(e,a=>{if(!t.height)return 0;const l=a%10,u=(10+n-l)%10;let d=u*t.height;return u>5&&(d-=10*t.height),d});return t.height?i.jsx(P.span,{style:{y:r},layoutId:`${s}-${n}`,className:"absolute inset-0 flex items-center justify-center",transition:M,ref:o,children:n}):i.jsx("span",{ref:o,className:"invisible absolute",children:n})}function h({value:e,padStart:n=!1,decimalSeparator:s="."}){const o=Math.abs(e),[t,r]=o.toString().split("."),a=parseInt(t,10),u=(n&&a<10?`0${t}`:t).split(""),d=u.map((p,c)=>Math.pow(10,u.length-c-1));return i.jsxs("div",{className:"flex items-center",children:[e<0&&"-",u.map((p,c)=>i.jsx(j,{value:a,place:d[c]},`pos-${d[c]}`)),r&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:s}),r.split("").map((p,c)=>i.jsx(j,{value:parseInt(r,10),place:Math.pow(10,r.length-c-1)},`decimal-${c}`))]})]})}function U(){const[e,n]=f.useState(new Date().getHours()),[s,o]=f.useState(new Date().getMinutes()),[t,r]=f.useState(new Date().getSeconds());return f.useEffect(()=>{const a=setInterval(()=>{n(new Date().getHours()),o(new Date().getMinutes()),r(new Date().getSeconds())},1e3);return()=>clearInterval(a)},[]),i.jsxs("div",{className:"flex items-center gap-0.5 font-mono text-foreground text-xs",children:[i.jsx(h,{value:e,padStart:!0}),i.jsx("span",{className:"text-foreground",children:":"}),i.jsx(h,{value:s,padStart:!0}),i.jsx("span",{className:"text-foreground",children:":"}),i.jsx(h,{value:t,padStart:!0})]})}export{U as Clock};
