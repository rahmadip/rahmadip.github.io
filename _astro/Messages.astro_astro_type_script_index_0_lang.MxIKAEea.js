import{i as m}from"./supabase.CavMioOv.js";const n=document.getElementById("form"),i=document.getElementById("sender"),d=document.getElementById("message"),s=document.getElementById("progress"),e=document.getElementById("send");!n||!i||!d||!s||!e?console.error("element missing in the form"):n.addEventListener("submit",async l=>{l.preventDefault();const r=d.value.trim();if(!r)return;let t=i.value.trim();t||(t="Anonymous"),e.innerHTML="sending . . . ",e.disabled=!0,s.style.width="50%";const{error:o}=await m("message",r,t);o?(console.error("Error insert",o),n.reset(),s.style.width="0%",e.innerHTML="error, try resend",setTimeout(()=>{s.style.width="0%",e.disabled=!1,e.innerHTML="send"},5e3)):(console.log("Messages sent"),n.reset(),s.style.width="100%",e.innerHTML="your message has been sent",setTimeout(()=>{s.style.width="0%",e.disabled=!1,e.innerHTML="send"},5e3))});
